<!-- panel -->
@if (blur) {
<div class="absolute left-0 top-0 z-10 w-screen h-screen">
  <div
    class="p-5 relative bg-white text-zinc-800 w-1/3 min-w-[400px] max-w-[500px] h-fit left-1/2 top-1/2 -translate-y-1/2 -translate-x-1/2 rounded-lg shadow-xl"
  >
    <form action="" class="flex flex-col gap-5 px-5 py-2" [formGroup]="itemForm">
      <h1
        class="uppercase font-bold w-full text-center text-2xl text-white bg-zinc-800 rounded-lg py-2"
      >
        Edit
      </h1>
      <div class="flex flex-col gap-2">
        <label for="name">Name</label>
        <input
          type="text"
          name="name"
          id="name"
          class="border-zinc-800 border-2 rounded-lg shadow-md p-2"
          formControlName="name"
        />
      </div>
      <div class="flex flex-col gap-2">
        <label for="description">Description</label>
        <input
          type="text"
          name="name"
          id="name"
          class="border-zinc-800 border-2 rounded-lg shadow-md p-2"
          formControlName="description"
        />
      </div>
      <div class="flex flex-col gap-2">
        <label for="category">Category</label>
        <input
          type="text"
          name="category"
          id="category"
          class="border-zinc-800 border-2 rounded-lg shadow-md p-2"
          formControlName="category"
        />
      </div>
      <div class="flex flex-col gap-2">
        <label for="price">Price</label>
        <input
          type="text"
          name="price"
          id="price"
          class="border-zinc-800 border-2 rounded-lg shadow-md p-2"
          formControlName="price"
          (keypress)="onKeyPress($event)"
        />
      </div>
      <div class="flex flex-row gap-4 w-full">
        <button
          type="button"
          class="w-full uppercase font-bold text-2xl border-2 border-zinc-800 text-zinc-800 mt-1 py-2 rounded-lg hover:bg-zinc-800 hover:text-white transition"
          (click)="updateItem()"
        >
          Update
        </button>
        <button
          type="button"
          class="w-full uppercase font-bold text-2xl border-2 border-zinc-800 text-zinc-800 mt-1 py-2 rounded-lg hover:bg-zinc-800 hover:text-white transition"
          (click)="closePanel()"
        >
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>
}

<div
  id="table"
  class="overflow-x-auto shadow-md"
  [ngClass]="blur ? 'blur' : ''"
>
  <table class="w-full text-sm text-left text-zinc-900">
    <thead class="text-xs uppercase bg-zinc-300">
      <tr>
        <th scope="col" class="px-6 py-3 drop-shadow-lg">ID</th>
        <th scope="col" class="px-6 py-3 drop-shadow-lg">Name</th>
        <th scope="col" class="px-6 py-3 drop-shadow-lg">Description</th>
        <th scope="col" class="px-6 py-3 drop-shadow-lg">Category</th>
        <th scope="col" class="px-6 py-3 drop-shadow-lg">Price</th>
        <th scope="col" class="px-6 py-3 drop-shadow-lg">Actions</th>
      </tr>
    </thead>
    <tbody class="bg-zinc-100">
      @for (item of db.items; track $index) {
      <tr class="border-b border-gray-700">
        <th
          scope="row"
          class="px-6 py-4 font-medium text-zinc-900 whitespace-nowrap"
        >
          {{ item.id }}
        </th>
        <td class="px-6 py-4">
          {{ item.name }}
        </td>
        <td class="px-6 py-4">
          {{ item.description }}
        </td>
        <td class="px-6 py-4">
          {{ item.category }}
        </td>
        <td class="px-6 py-4">${{ item.price }}</td>
        <td class="flex items-center px-6 py-4">
          <a
            (click)="editItem(item)"
            class="font-medium text-blue-500 hover:underline cursor-pointer"
            >Edit</a
          >
          <a
            (click)="removeItem(item)"
            class="font-medium text-red-500 hover:underline ms-3 cursor-pointer"
            >Remove</a
          >
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>
